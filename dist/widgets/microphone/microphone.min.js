!function(n){"use strict";function t(){s=new n.Listener({interimResults:!0,onResult:function(n,t,o,e){c.publishEvent("result",n,t,o,e)},onStart:function(n){c.publishEvent("start",n)},onEnd:function(n){c.publishEvent("end",n)},onError:function(n){c.publishEvent("error",n)}})}function o(){var n=u.querySelector(".volume-pulser");r=new window.VolumeMonitor({listener:s,onVolumeChange:function(t){var o=t/100*.5+1;n.style.transform="scale("+o+")"},onStop:function(){n.style.transform="scale(0.9)"},onError:function(n){c.publishEvent("error",n)}})}function e(){var n=null,t=1e3,o=u.querySelector(".icon-container");o.addEventListener("mousedown",function(){s.listening?c.stop():n=setTimeout(function(){c.start(!0),n=null},t)}),o.addEventListener("mouseup",function(){null!==n&&(clearTimeout(n),n=null,c.start())}),o.addEventListener("mouseout",function(){clearTimeout(n),n=null})}function i(){c.on("start",function(){u.classList.add("listening"),s.continuous&&u.classList.add("lock")}),c.on("end",function(){u.classList.remove("listening"),u.classList.remove("lock")})}var s,r,u,c=window.MindMeldMicrophone=window.MindMeldMicrophone||{};c.initialize=function(s){if(u=s,!n.support.speechRecognition){u.classList.add("disabled");var r="This browser does not support speech recognition";return void c.publishEvent("error",r)}t(),o(),e(),i(),c.publishEvent("init")},c.start=function(n){s.continuous=n,s.start(),r.start()},c.listening=function(){return s.listening},c.stop=function(){s.stop()};var l={};c.on=function(n,t,o){l[n]||(l[n]=[]);var e={callback:t,context:o};l[n].push(e)},c.publishEvent=function(n){var t=l[n];if(void 0!==t){var o=Array.prototype.slice.call(arguments,1);t.forEach(function(n){var t=n.context||this;n.callback.apply(t,o)})}}}(MM);
//# sourceMappingURL=microphone.js
//# sourceMappingURL=microphone.min.js.map